<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tajo Collective - The Growth Story (Dark Mode)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --orange: #fd8943;
            --deep-black: #1a0916;
            --neon-green: #a0f917;
            --dark-purple: #53349c;
            --light-purple: #9466d7;
            --bg-dark: #1a0916;
            --card-dark: #2a1a3a;
            --text-light: #f0e6ff;
            --text-muted: #bca9d9;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .flow-arrow {
            color: var(--light-purple);
            font-size: 2.5rem;
            line-height: 1;
        }
        .loader {
            border: 4px solid #4a3a5a;
            border-top: 4px solid var(--light-purple);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .gemini-btn {
             background-color: var(--dark-purple);
             color: white;
             font-weight: bold;
             padding: 0.75rem 1.5rem;
             border-radius: 0.5rem;
             transition: background-color 0.3s;
        }
        .gemini-btn:hover {
            background-color: var(--light-purple);
        }
        .gemini-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .text-neon-green { color: var(--neon-green); }
        .bg-neon-green { background-color: var(--neon-green); }
        .text-dark-purple { color: var(--dark-purple); }
        .border-orange { border-color: var(--orange); }
        .border-light-purple { border-color: var(--light-purple); }
        .ring-neon-green { ring-color: var(--neon-green); }
        .bg-card-dark { background-color: var(--card-dark); }
        .text-muted { color: var(--text-muted); }
    </style>
</head>
<body class="text-text-light">

    <header class="bg-card-dark shadow-lg sticky top-0 z-10">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-light-purple" style="color: var(--light-purple);">Tajo Collective</h1>
            <p class="font-semibold">The Growth Story</p>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="ai-pitch" class="my-12 md:my-16 bg-card-dark rounded-lg shadow-lg p-8">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-4">✨ AI-Powered Pitch Customizer</h2>
            <p class="text-center text-muted mb-6 max-w-2xl mx-auto">Select an audience to see how the Gemini API can tailor the Tajo Collective pitch to be most effective for different stakeholders.</p>
            <div class="flex justify-center items-center gap-4 mb-8">
                <label for="audience-selector" class="font-semibold">Target Audience:</label>
                <select id="audience-selector" class="border border-gray-600 rounded-md p-2 bg-card-dark text-text-light">
                    <option value="default" selected>Default Pitch</option>
                    <option value="Bank Loan Officer">Bank Loan Officer</option>
                    <option value="Venture Capitalist">Venture Capitalist</option>
                    <option value="Creative Partner">Potential Creative Partner</option>
                </select>
            </div>
            <div id="pitch-output" class="bg-bg-dark p-6 rounded-lg border border-gray-700 min-h-[200px] flex items-center justify-center">
                 <div id="pitch-loader" class="hidden">
                    <div class="loader"></div>
                 </div>
                 <div id="pitch-content">
                    <h3 id="pitch-headline" class="text-3xl md:text-4xl font-extrabold mb-4 text-center">Cultivating Authentic Expression</h3>
                    <p id="pitch-text" class="max-w-3xl mx-auto text-lg text-muted text-center">
                        Tajo Collective is a creative agency solving the problem of generic photography by providing a tailored, artistic, and comfortable experience for local businesses. Our mission is to ensure a business's visual story is as unique as they are.
                    </p>
                 </div>
            </div>
        </section>

        <section id="opportunity" class="my-12 md:my-20">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-card-dark rounded-lg shadow-lg p-8 border-l-4 border-orange">
                    <h3 class="text-2xl font-bold mb-4">The Market Problem</h3>
                    <p class="text-muted">Passionate business owners often receive "one-size-fits-all" photography. Their visual brand fails to reflect the true quality and uniqueness of their work, creating a disconnect with their audience.</p>
                </div>
                <div class="bg-card-dark rounded-lg shadow-lg p-8 border-l-4 border-light-purple">
                    <h3 class="text-2xl font-bold mb-4">Our Authentic Solution</h3>
                    <p class="text-muted">We provide a collaborative and tailored process, ensuring the final imagery is genuine, flattering, and effective. We ensure a business's visual story is as unique as they are.</p>
                </div>
            </div>
        </section>

        <section id="traction" class="my-12 md:my-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">Proven Success & Momentum</h2>
                <p class="max-w-2xl mx-auto text-lg text-muted mt-2">Our approach is validated by strong, organic growth and the ability to attract new talent.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                <div class="bg-card-dark rounded-lg shadow-lg p-6 md:p-8">
                    <h3 class="text-xl font-bold text-center mb-4">Accelerating Revenue Growth</h3>
                    <p class="text-center text-muted mb-6">With zero marketing spend, revenue has more than doubled in pace year-over-year, demonstrating clear market demand.</p>
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="bg-card-dark rounded-lg shadow-lg p-6 text-center">
                        <p class="text-5xl font-extrabold" style="color: var(--light-purple);">4</p>
                        <p class="text-xl font-semibold mt-2">Creative Interns</p>
                        <p class="text-muted mt-1">Recruited for a 6-week brand intensive, drawn by the strength of our work.</p>
                    </div>
                    <div class="bg-card-dark rounded-lg shadow-lg p-6 text-center">
                        <p class="text-5xl font-extrabold" style="color: var(--light-purple);">10+</p>
                        <p class="text-xl font-semibold mt-2">Years of Experience</p>
                        <p class="text-muted mt-1">Founded on a decade of professional photography and client trust.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="ai-analysis" class="my-12 md:my-20">
             <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">✨ AI-Powered Strategic Analysis</h2>
                <p class="max-w-2xl mx-auto text-lg text-muted mt-2">Use the Gemini API to instantly generate strategic insights based on the Tajo Collective business plan.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-card-dark rounded-lg shadow-lg p-8">
                    <h3 class="text-2xl font-bold text-center mb-4">SWOT Analysis</h3>
                    <p class="text-center text-muted mb-6">Generate a Strengths, Weaknesses, Opportunities, and Threats analysis.</p>
                    <div class="text-center mb-6">
                        <button id="swot-generator-btn" class="gemini-btn">Analyze Business Plan</button>
                    </div>
                    <div id="swot-output" class="grid grid-cols-1 sm:grid-cols-2 gap-4 min-h-[200px]">
                        <div id="swot-loader" class="hidden col-span-full flex justify-center items-center">
                            <div class="loader"></div>
                        </div>
                    </div>
                </div>
                <div class="bg-card-dark rounded-lg shadow-lg p-8">
                    <h3 class="text-2xl font-bold text-center mb-4">Client Persona</h3>
                    <p class="text-center text-muted mb-6">Create a detailed persona for our ideal target customer.</p>
                    <div class="text-center mb-6">
                        <button id="persona-generator-btn" class="gemini-btn">Create Persona</button>
                    </div>
                    <div id="persona-output" class="bg-bg-dark p-6 rounded-lg border border-gray-700 min-h-[200px] flex items-center justify-center">
                        <div id="persona-loader" class="hidden">
                            <div class="loader"></div>
                        </div>
                        <div id="persona-content" class="hidden"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="plan" class="my-12 md:my-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">Our 90-Day Launch Plan</h2>
                <p class="max-w-2xl mx-auto text-lg text-muted mt-2">We have a clear, actionable roadmap to launch the Tajo Collective brand and achieve our initial revenue goals.</p>
            </div>
            <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-0">
                <div class="bg-card-dark rounded-lg shadow-lg p-6 w-full md:w-1/4 text-center">
                    <p class="text-sm font-bold" style="color: var(--light-purple);">30 DAYS</p>
                    <p class="font-semibold mt-2">Strategy & Assets</p>
                    <p class="text-muted text-sm mt-1">Develop marketing strategy and create core creative assets.</p>
                </div>
                <div class="flow-arrow transform md:-rotate-0 rotate-90">&rarr;</div>
                <div class="bg-card-dark rounded-lg shadow-lg p-6 w-full md:w-1/4 text-center">
                    <p class="text-sm font-bold" style="color: var(--light-purple);">60 DAYS</p>
                    <p class="font-semibold mt-2">Launch & Promote</p>
                    <p class="text-muted text-sm mt-1">Launch new branding and roll out seasonal holiday promotions.</p>
                </div>
                <div class="flow-arrow transform md:-rotate-0 rotate-90">&rarr;</div>
                 <div class="bg-neon-green rounded-lg shadow-lg p-6 w-full md:w-1/4 text-center ring-4 ring-offset-2 ring-neon-green" style="--tw-ring-offset-color: var(--bg-dark); color:#000">
                    <p class="text-sm font-bold text-deep-black">90-DAY GOAL</p>
                    <p class="font-bold text-2xl mt-2 text-deep-black">$10,000</p>
                    <p class="text-deep-black text-sm mt-1 font-semibold">In New Revenue</p>
                </div>
            </div>
        </section>

        <section id="ai-ideas" class="my-12 md:my-20 bg-card-dark rounded-lg shadow-lg p-8">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-4">✨ Strategic Idea Generator</h2>
            <p class="text-center text-muted mb-6 max-w-2xl mx-auto">Click the button to use the Gemini API to generate creative, actionable ideas for Tajo Collective's next steps.</p>
            <div class="text-center mb-8">
                <button id="idea-generator-btn" class="gemini-btn">Generate Strategic Ideas</button>
            </div>
            <div id="idea-output" class="grid grid-cols-1 md:grid-cols-3 gap-6 min-h-[150px]">
                <div id="idea-loader" class="hidden col-span-full flex justify-center items-center">
                    <div class="loader"></div>
                </div>
            </div>
        </section>

        <section id="ask" class="my-12 md:my-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">The Investment for Growth</h2>
                <p class="max-w-2xl mx-auto text-lg text-muted mt-2">To build a sustainable foundation and scale our impact, we are seeking capital and strategic partnerships.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 md:gap-12">
                <div class="lg:col-span-3 bg-card-dark rounded-lg shadow-lg p-6 md:p-8">
                    <h3 class="text-xl font-bold text-center mb-2">Funding Ask: $50,000</h3>
                    <p class="text-center text-muted mb-6">This capital will be strategically allocated to build our team and operational capacity.</p>
                    <div class="chart-container">
                        <canvas id="fundingChart"></canvas>
                    </div>
                </div>
                <div class="lg:col-span-2 bg-card-dark rounded-lg shadow-lg p-6 md:p-8 flex flex-col justify-center">
                     <h3 class="text-xl font-bold text-center mb-6">Seeking Strategic Partners</h3>
                     <div class="space-y-4">
                        <div class="bg-bg-dark rounded-lg p-4 text-center">
                            <p class="text-lg font-semibold">Web Developer</p>
                            <p class="text-muted">To collaborate on creating stunning online presences for clients.</p>
                        </div>
                        <div class="bg-bg-dark rounded-lg p-4 text-center">
                            <p class="text-lg font-semibold">Copywriter</p>
                            <p class="text-muted">To craft compelling narratives that align with our authentic imagery.</p>
                        </div>
                     </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-card-dark mt-16">
        <div class="container mx-auto px-6 py-8 text-center">
            <h2 class="text-2xl font-bold" style="color: var(--light-purple);">Tajo Collective</h2>
            <p class="mt-2 text-muted">Let's create something authentic together.</p>
            <p class="mt-4 font-semibold">naomi@tajocs.com | tajocollective.com</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const wrapLabel = (label, maxWidth) => {
                if (label.length <= maxWidth) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxWidth) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                  return label.join(' ');
                }
                return label;
            };

            const palette = {
                orange: '#fd8943',
                deepBlack: '#1a0916',
                neonGreen: '#a0f917',
                darkPurple: '#53349c',
                lightPurple: '#9466d7',
                textLight: '#f0e6ff',
                textMuted: '#bca9d9',
            };

            const sharedChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                family: 'Inter',
                                size: 12,
                            },
                            color: palette.textLight
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        },
                        titleFont: { family: 'Inter', weight: 'bold', size: 14 },
                        bodyFont: { family: 'Inter', size: 12 },
                        backgroundColor: palette.deepBlack,
                        titleColor: '#FFFFFF',
                        bodyColor: '#FFFFFF',
                        padding: 10,
                        cornerRadius: 4
                    }
                }
            };

            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'bar',
                data: {
                    labels: ['2024 (Full Year)', '2025 (First Half)'],
                    datasets: [{
                        label: 'Revenue ($)',
                        data: [22000, 22000],
                        backgroundColor: [palette.lightPurple, palette.darkPurple],
                        borderColor: [palette.lightPurple, palette.darkPurple],
                        borderWidth: 1
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(240, 230, 255, 0.1)' },
                            ticks: {
                                color: palette.textMuted,
                                callback: function(value) {
                                    return '$' + value / 1000 + 'k';
                                }
                            }
                        },
                        x: {
                             grid: { display: false },
                             ticks: { color: palette.textMuted }
                        }
                    }
                }
            });

            const fundingCtx = document.getElementById('fundingChart').getContext('2d');
            new Chart(fundingCtx, {
                type: 'doughnut',
                data: {
                    labels: [
                        wrapLabel('Team (2 Part-Time Staff)', 16), 
                        wrapLabel('Financial Support (Accounting)', 16), 
                        'Operations & Studio', 
                        'Cash on Hand'
                    ],
                    datasets: [{
                        label: 'Funding Allocation',
                        data: [16000, 14000, 12000, 8000],
                        backgroundColor: [
                            palette.darkPurple,
                            palette.lightPurple,
                            palette.orange,
                            palette.neonGreen
                        ],
                        hoverOffset: 4,
                        borderColor: 'var(--card-dark)'
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    cutout: '60%'
                }
            });

            const audienceSelector = document.getElementById('audience-selector');
            const pitchLoader = document.getElementById('pitch-loader');
            const pitchContent = document.getElementById('pitch-content');
            const pitchHeadline = document.getElementById('pitch-headline');
            const pitchText = document.getElementById('pitch-text');
            
            const defaultPitch = {
                headline: 'Cultivating Authentic Expression',
                text: "Tajo Collective is a creative agency solving the problem of generic photography by providing a tailored, artistic, and comfortable experience for local businesses. Our mission is to ensure a business's visual story is as unique as they are."
            };

            const ideaGeneratorBtn = document.getElementById('idea-generator-btn');
            const ideaOutput = document.getElementById('idea-output');
            const ideaLoader = document.getElementById('idea-loader');

            const swotGeneratorBtn = document.getElementById('swot-generator-btn');
            const swotOutput = document.getElementById('swot-output');
            const swotLoader = document.getElementById('swot-loader');

            const personaGeneratorBtn = document.getElementById('persona-generator-btn');
            const personaOutput = document.getElementById('persona-output');
            const personaLoader = document.getElementById('persona-loader');
            const personaContent = document.getElementById('persona-content');

            const businessContext = `Tajo Collective is a photography agency in Metro Detroit founded by Naomi Tajonera, an artist with a BA in Photography and 10+ years of experience. It specializes in authentic, tailored imagery for local businesses, particularly women entrepreneurs. The core problem it solves is generic, 'one-size-fits-all' photography that fails to capture a business's unique essence. The business has proven traction, earning $22k in revenue part-time with no marketing, and has already matched that in the first half of the current year. It is scaling from a solo practice to an agency model, bringing on interns. The plan is to launch a new brand and marketing campaign to generate $10k in new revenue in 90 days. The business is seeking a $50k loan/grant for hiring, operations, and financial support.`;

            const callGeminiAPI = async (prompt) => {
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{ role: "user", parts: [{ text: prompt }] }]
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error("Invalid response structure from API.");
                    }
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    return `{"error": "Sorry, there was an error generating a response. Please try again. Details: ${error.message}"}`;
                }
            };
            
            const parseJsonFromMarkdown = (text) => {
                 return text.replace(/```json/g, '').replace(/```/g, '').trim();
            }

            const setLoadingState = (loader, content, button, isLoading) => {
                if (isLoading) {
                    loader.classList.remove('hidden');
                    if (content) content.classList.add('hidden');
                    if (button) {
                        button.disabled = true;
                        button.classList.add('opacity-50');
                    }
                } else {
                    loader.classList.add('hidden');
                    if (content) content.classList.remove('hidden');
                    if (button) {
                        button.disabled = false;
                        button.classList.remove('opacity-50');
                    }
                }
            };

            audienceSelector.addEventListener('change', async (e) => {
                const audience = e.target.value;
                if (audience === 'default') {
                    pitchHeadline.textContent = defaultPitch.headline;
                    pitchText.textContent = defaultPitch.text;
                    return;
                }

                setLoadingState(pitchLoader, pitchContent, null, true);

                const prompt = `Rewrite the following business pitch for Tajo Collective to specifically target a "${audience}". The core business is a photography agency specializing in authentic, tailored imagery for local businesses, moving from a successful solo practice to an agency model. Emphasize the points most relevant to the selected audience. The original pitch is: "${defaultPitch.headline}. ${defaultPitch.text}". Return the response as a JSON object with two keys: "headline" (a short, impactful title) and "text" (a 1-2 sentence paragraph).`;
                
                const responseText = await callGeminiAPI(prompt);
                
                try {
                    const parsedResponse = JSON.parse(parseJsonFromMarkdown(responseText));
                    if(parsedResponse.error) throw new Error(parsedResponse.error);
                    pitchHeadline.textContent = parsedResponse.headline || defaultPitch.headline;
                    pitchText.textContent = parsedResponse.text || defaultPitch.text;
                } catch (error) {
                    console.error("Error parsing API response:", error);
                    pitchHeadline.textContent = "Error";
                    pitchText.textContent = "Could not parse the response. Please try again.";
                } finally {
                    setLoadingState(pitchLoader, pitchContent, null, false);
                }
            });

            ideaGeneratorBtn.addEventListener('click', async () => {
                ideaOutput.innerHTML = '';
                setLoadingState(ideaLoader, null, ideaGeneratorBtn, true);

                const prompt = `You are a business strategist for a creative agency. Tajo Collective is a photography agency specializing in authentic imagery for local businesses. Their 90-day plan is: 30 days for strategy/assets, 60 days for brand launch/promotions, with a goal of $10k new revenue. Based on this, generate three distinct, creative, and actionable marketing or partnership ideas for the next quarter. For each idea, provide a "title" and a short "description" (1-2 sentences). Return the response as a JSON array of objects, where each object has a "title" and "description" key.`;

                const responseText = await callGeminiAPI(prompt);
                
                setLoadingState(ideaLoader, null, ideaGeneratorBtn, false);

                try {
                    const ideas = JSON.parse(parseJsonFromMarkdown(responseText));
                    if(ideas.error) throw new Error(ideas.error);
                    if (Array.isArray(ideas)) {
                        ideas.forEach(idea => {
                            const ideaCard = document.createElement('div');
                            ideaCard.className = 'bg-bg-dark p-6 rounded-lg border border-gray-700';
                            ideaCard.innerHTML = `
                                <h4 class="font-bold text-lg text-light-purple mb-2">${idea.title}</h4>
                                <p class="text-muted">${idea.description}</p>
                            `;
                            ideaOutput.appendChild(ideaCard);
                        });
                    } else {
                        throw new Error("Response is not an array.");
                    }
                } catch (error) {
                    console.error("Error parsing ideas response:", error);
                    ideaOutput.innerHTML = `<p class="col-span-full text-center text-orange">Sorry, there was an error generating ideas. Please try again.</p>`;
                }
            });

            swotGeneratorBtn.addEventListener('click', async () => {
                swotOutput.innerHTML = '';
                setLoadingState(swotLoader, null, swotGeneratorBtn, true);

                const prompt = `Analyze the following business summary for Tajo Collective and generate a SWOT analysis. Return the response as a JSON object with four keys: "strengths", "weaknesses", "opportunities", and "threats". Each key should contain an array of 2-3 brief string points. Business Summary: ${businessContext}`;

                const responseText = await callGeminiAPI(prompt);
                setLoadingState(swotLoader, null, swotGeneratorBtn, false);

                try {
                    const swot = JSON.parse(parseJsonFromMarkdown(responseText));
                    if(swot.error) throw new Error(swot.error);
                    const swotData = [
                        { title: 'Strengths', items: swot.strengths, color: 'text-green-400' },
                        { title: 'Weaknesses', items: swot.weaknesses, color: 'text-red-400' },
                        { title: 'Opportunities', items: swot.opportunities, color: 'text-blue-400' },
                        { title: 'Threats', items: swot.threats, color: 'text-yellow-400' }
                    ];

                    swotData.forEach(category => {
                        const listItems = category.items.map(item => `<li class="text-sm text-muted">${item}</li>`).join('');
                        const categoryDiv = document.createElement('div');
                        categoryDiv.innerHTML = `
                            <h4 class="font-bold ${category.color} mb-2">${category.title}</h4>
                            <ul class="space-y-1 list-disc list-inside">${listItems}</ul>
                        `;
                        swotOutput.appendChild(categoryDiv);
                    });
                } catch(e) {
                    swotOutput.innerHTML = `<p class="col-span-full text-center text-orange">Could not generate SWOT analysis.</p>`;
                }
            });

            personaGeneratorBtn.addEventListener('click', async () => {
                setLoadingState(personaLoader, personaContent, personaGeneratorBtn, true);

                const prompt = `Based on the following business summary, create a detailed, fictional client persona for Tajo Collective's ideal customer. Return the response as a JSON object with keys for "name", "business" (e.g., 'Founder of "Radiant Wellness"'), "goals" (an array of strings), and "painPoints" (an array of strings). Business Summary: ${businessContext}`;
                const responseText = await callGeminiAPI(prompt);
                
                try {
                    const persona = JSON.parse(parseJsonFromMarkdown(responseText));
                    if(persona.error) throw new Error(persona.error);
                    const goalsList = persona.goals.map(item => `<li class="text-sm">${item}</li>`).join('');
                    const painPointsList = persona.painPoints.map(item => `<li class="text-sm">${item}</li>`).join('');

                    personaContent.innerHTML = `
                        <div class="text-center">
                            <p class="text-xl font-bold">${persona.name}</p>
                            <p class="font-semibold" style="color: var(--light-purple);">${persona.business}</p>
                        </div>
                        <div class="mt-4 text-left">
                            <h5 class="font-bold">Goals:</h5>
                            <ul class="list-disc list-inside text-muted">${goalsList}</ul>
                            <h5 class="font-bold mt-3">Pain Points:</h5>
                            <ul class="list-disc list-inside text-muted">${painPointsList}</ul>
                        </div>
                    `;
                } catch (e) {
                    personaContent.innerHTML = `<p class="text-center text-orange">Could not generate a client persona.</p>`;
                } finally {
                    setLoadingState(personaLoader, personaContent, personaGeneratorBtn, false);
                }
            });
        });
    </script>
</body>
</html>
